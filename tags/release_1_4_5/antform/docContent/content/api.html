<h2>Using the API from a Java program</h2>
<p>AntForm can be used from outside of Ant. Indeed, the Java platform itself is
lacking for simple out-of-box functionality for making simple forms, hence the 
use of AntForm to fill the void. The Antform API provides a stunningly simple way
of building GUI forms for requesting input from a user.</p>
<p>To build an AntForm programmatically, first import the required packages into your 
java class:</p>
<blockquote>
<pre>
import com.sardak.antform.gui.*;
import com.sardak.antform.interfaces.*;
import com.sardak.antform.types.*;
</pre>
</blockquote>
<p>The next step is to build a <code>Control</code> instance an pass it an implementation of 
the <code>CallBack</code> interface, which will be called when the user clicks a button (<code>callbackCommand</code> method) or a link (<code>callbackLink</code> method). From the <code>Control</code> object, get a handle to it's panel: this is where widgets are added into the form.</p>
<blockquote>
<pre>
Control control = new Control(new CallbackTest(), "Configure FTP Servers", null);
ControlPanel panel = control.getPanel();
</pre>	
</blockquote>
<p>From then on it's just a question of adding widgets for each property that needs to be set, or links for calling back methods on the callback object. Use the callback object through links if you need to change the form between stages of it's use. For instance, for dynamically adding elements to the form, re-construct the form with added elements following the callback.</p>
<blockquote>
<pre>
LinkBar bar = new LinkBar();
List links = new  ArrayList();			
bar.addConfiguredLink(new Link("Add an FTP server", "addserver"));
bar.addConfiguredLink(new Link("Remove an FTP server", "removeServer"));
panel.addLinkBar(bar);
panel.addSeparator();
</pre>	
</blockquote>
<p>To every widget that's added to the form, a handle can be retrieved, which will enable getting the widget value after the form has been disposed. This is not the only way, of course, as the form has a 
<code>properties</code> object that contains the values of each widget mapped to a property name that was specified when the widget was added to the form.</p>
<blockquote>
<pre>
ValueHandle g1 = panel.addBooleanProperty("Passive-mode connection:", "pasv", true);
ValueHandle g2 = panel.addTextProperty("Server address:", "serverAddress", 30, true, false, false);
ValueHandle g3 = panel.addTextProperty("Server login:", "login", 30, true, false, false);
ValueHandle g4 = panel.addTextProperty("Server password:", "password", 30, true, true, false);
</pre>	
</blockquote>
		
<p>If initial values need to be injected into the form, this can be accomplished via the <code>Control.setProperties()</code> method, or through each <code>ValueHandle</code> handle for finer control over initial values:</p>
<blockquote>
<pre>
Properties props = new Properties();
props.setProperty("pasv", "true");
g2.setValue("login");
control.setProperties(props);
</pre>	
</blockquote>

<p>Finally, the button controls  for approving or resetting the form are added in and the <code>Control.show()</code> method is called to pop up the Control dialog. </p>
<blockquote>
<pre>
panel.addButtonControls("Save properties", "Reset form");		
control.show();
</pre>	
</blockquote>

<p>Once the control is disposed, the properties can be extracted all at once through the <code>Control.getProperties()</code> method or one by one through the various handles that were retrieved from each individual widget:</p>
		
<blockquote>
<pre>
panel.getProperties().list(System.out);		
System.out.println(g1.getValue());
System.exit(0);
</pre>	
</blockquote>
<p>Here is a screenshot of the ftp example form constructed with the above code:</p>
<p align="center"><img src="images/ftpexample.jpg" alt="ftp example" /></p>
